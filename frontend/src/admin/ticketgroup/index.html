<div class="admin-ticketgroup-item">
  <page-property
    name="title"
    value="{{ ticketgroup.event.title }} ({{ event.time_start | formatdate: 'DD. MMM' }}): {{ ticketgroup.title }}"
  ></page-property>

  <div class="page-header">
    <h1>{{ ticketgroup.event.eventgroup.title }}</h1>
  </div>

  <p><a routerLink="/a/event/{{ event_id }}">« Tilbake</a></p>

  <h2>{{ ticketgroup.event.title }}</h2>

  <h3>Billettgruppe</h3>

  <p [hidden]="!ticketgroup.has_tickets">
    Billettgruppen har enten reserverte eller tilknyttede billetter. Derfor er en del av feltene utilgjengelig for
    endringer.
  </p>

  <form (ngSubmit)="updateTicketgroup()" class="form-horizontal" autocomplete="off">
    <div class="form-group">
      <label for="title" class="col-sm-3 control-label">Tittel</label>
      <div class="col-sm-7">
        <input
          type="text"
          class="form-control"
          [(ngModel)]="ticketgroup.title"
          id="title"
          placeholder=""
          required=""
          autofocus=""
          ng-disabled="ticketgroup.has_tickets"
        />
      </div>
    </div>
    <div class="form-group">
      <label for="ticket_text" class="col-sm-3 control-label">Billett-tekst</label>
      <div class="col-sm-7">
        <input
          type="text"
          class="form-control"
          [(ngModel)]="ticketgroup.ticket_text"
          id="ticket_text"
          placeholder="(valgfritt)"
          ng-disabled="ticketgroup.has_tickets"
        />
        <span class="help-block">Kan f.eks. være gyldighetsinformasjon for studentbillett.</span>
      </div>
    </div>

    <div class="form-group">
      <label for="price" class="col-sm-3 control-label">Priser</label>
      <div class="col-sm-3">
        <input
          type="number"
          class="form-control"
          [(ngModel)]="ticketgroup.price"
          id="price"
          placeholder=""
          required=""
          ng-disabled="ticketgroup.has_tickets"
        />
      </div>
      <div class="col-sm-3">
        <input
          type="number"
          class="form-control"
          [(ngModel)]="ticketgroup.fee"
          id="fee"
          placeholder="(valgfritt)"
          ng-disabled="ticketgroup.has_tickets"
        />
        <span class="help-block">Evt. billettgebyr regnes i tillegg til billettpris</span>
      </div>
    </div>

    <div class="form-group">
      <label for="max_sales" class="col-sm-3 control-label">Antall billetter</label>
      <div class="col-sm-3">
        <input
          type="number"
          class="form-control"
          [(ngModel)]="ticketgroup.limit"
          id="max_sales"
          placeholder="(valgfritt)"
        />
      </div>
    </div>

    <div class="form-group">
      <div class="col-sm-offset-3 col-sm-9">
        <label> <input type="checkbox" [(ngModel)]="ticketgroup.use_office" /> Aktiv for salg i billettluke? </label>
      </div>
    </div>

    <div class="form-group">
      <div class="col-sm-offset-3 col-sm-9">
        <label>
          <input type="checkbox" [(ngModel)]="ticketgroup.use_web" />
          Tilgjengelig for kjøp på nettside?
        </label>
      </div>
    </div>

    <div class="form-group">
      <div class="col-sm-offset-3 col-sm-9">
        <label>
          <input type="checkbox" [(ngModel)]="ticketgroup.is_normal" />
          Billetter solgt telles som normalt salg
        </label>
      </div>
    </div>

    <div class="form-group">
      <div class="col-sm-8 col-sm-offset-3">
        <button type="submit" class="btn btn-success">Oppdater</button>
        <button type="button" class="btn btn-danger" (click)="deleteTicketgroup()">Slett</button>
      </div>
    </div>
  </form>
</div>
