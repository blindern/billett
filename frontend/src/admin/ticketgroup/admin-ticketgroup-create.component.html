<billett-page-states [state]="pageState" />
<billett-page-property name="title" value="Ny billettgruppe" />

@if (event) {
  <billett-page-property
    name="title"
    value="{{ event.title }} ({{ event.time_start | formatdate: 'DD. MMM' }}): Ny billettgruppe"
  />

  <div class="page-header">
    <h1>
      <span class="eventgroup">
        <a routerLink="/a/event/{{ event.id }}">{{ event.title }}</a>
      </span>
      Ny billettgruppe
    </h1>
  </div>

  <p>
    Nye billettgrupper kan brukes i billettluke med en gang. Dersom billettgruppen skal være tilgjengelig på nettsiden
    må dette aktiveres etter billettgruppen er opprettet.
  </p>

  <form (ngSubmit)="submit()" class="form-horizontal" autocomplete="off">
    <div class="form-group">
      <label for="title" class="col-sm-3 control-label">Tittel</label>
      <div class="col-sm-7">
        <input
          type="text"
          class="form-control"
          [(ngModel)]="form.title"
          id="title"
          name="title"
          placeholder=""
          required=""
          autofocus=""
        />
      </div>
    </div>
    <div class="form-group">
      <label for="ticket_text" class="col-sm-3 control-label">Billett-tekst</label>
      <div class="col-sm-7">
        <input
          type="text"
          class="form-control"
          [(ngModel)]="form.ticket_text"
          id="ticket_text"
          name="ticket_text"
          placeholder="(valgfritt)"
        />
        <span class="help-block">Kan f.eks. være gyldighetsinformasjon for studentbillett.</span>
      </div>
    </div>

    <div class="form-group">
      <label for="price" class="col-sm-3 control-label">Priser</label>
      <div class="col-sm-3">
        <input
          type="number"
          class="form-control"
          [(ngModel)]="form.price"
          id="price"
          name="price"
          placeholder=""
          required=""
        />
      </div>
      <div class="col-sm-3">
        <input
          type="number"
          class="form-control"
          [(ngModel)]="form.fee"
          id="fee"
          name="fee"
          placeholder="(valgfritt)"
        />
        <span class="help-block">Evt. billettgebyr regnes i tillegg til billettpris</span>
      </div>
    </div>

    <div class="form-group">
      <label for="max_sales" class="col-sm-3 control-label">Antall billetter</label>
      <div class="col-sm-3">
        <input
          type="number"
          class="form-control"
          [(ngModel)]="form.limit"
          id="max_sales"
          name="max_sales"
          placeholder="(valgfritt)"
        />
      </div>
    </div>

    <div class="form-group">
      <div class="col-sm-offset-3 col-sm-9">
        <label>
          <input type="checkbox" [(ngModel)]="form.use_office" name="use_office" />
          Tilgjengelig for kjøp i billettluke?
        </label>
      </div>
    </div>

    <div class="form-group">
      <div class="col-sm-offset-3 col-sm-9">
        <label>
          <input type="checkbox" [(ngModel)]="form.use_web" name="use_web" />
          Tilgjengelig for kjøp på nettside?
        </label>
      </div>
    </div>

    <div class="form-group">
      <div class="col-sm-offset-3 col-sm-9">
        <label>
          <input type="checkbox" [(ngModel)]="form.is_normal" name="is_normal" />
          Billetter solgt telles som normalt salg
        </label>
      </div>
    </div>

    <div class="form-group">
      <div class="col-sm-8 col-sm-offset-3">
        <input type="submit" value="Opprett" class="btn btn-primary" />
      </div>
    </div>
  </form>

  <p>
    <b>NB!</b> Billettgrupper kan i liten grad redigeres når det blir tilegnet billetter til dem. Dette inkluderer pris.
    Ved behov må man opprette nye billettgrupper så de gamle bevares.
  </p>
}
